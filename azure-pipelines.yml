# Ruby
# Package your Ruby project.
# Add steps that install rails, analyze code, save build artifacts, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/ruby
variables:
  azureSubscriptionEndpoint: opencell-lims-docker
  azureContainerRegistry: opencelllimsdockeracr.azurecr.io

trigger:
- master

pool:
  vmImage: 'ubuntu-latest'

steps:
  - task: DockerCompose@0
    displayName: Build Services
    inputs:
      azureSubscriptionEndpoint: $(azureSubscriptionEndpoint)
      azureContainerRegistry: $(azureContainerRegistry)
      action: build
      repository: $(imageName)
      dockerComposeFile: docker-compose.yml
