<p id="notice"><%= notice %></p>
<div class="container">
  <table class="table table-striped table-bordered">
    <thead class="thead-dark">
    <tr>
      <th></th>
      <% (1..12).each do |col| %>
        <th><%= col %></th>
      <% end %>
    </tr>
    </thead>
    <tbody>
    <% @plate.wells.sort_by{|w| w.row}.group_by {|well| well[:row]}.each do |row, wells| %>
      <tr>
        <td class="dark-cell text-center"><%= row %></td>
        <% wells.sort_by{|w|w.column}.each do |well| %>
          <% if sample_exists?(well) %>
            <td class="marked-cell"><%= link_to "#{well.row}#{well.column}", well.sample %></td>
          <% else  %>
            <td><%= "#{well.row}#{well.column}"%></td>
          <% end %>

        <% end %>
      </tr>
    <% end %>
    </tbody>
  </table>
  <%= link_to 'Edit', edit_plate_path(@plate) %> |
  <%= link_to 'Back', plates_path %>
</div>
